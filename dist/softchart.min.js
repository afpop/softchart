!function(){"use strict";function t(t,e){return{restrict:"E",replace:!0,scope:{id:"=",setup:"=",dataset:"=",label:"="},templateUrl:"softchart.html",link:function(t,s,a){function n(){c||r.destroy();var e=document.getElementById(t.id).getContext("2d");r=new Chart(e,{type:t.setup.type,data:{labels:t.label,datasets:t.dataset},options:{scales:{responsive:!0,xAxes:[{stacked:t.setup.stackX}],yAxes:[{stacked:t.setup.stackY,ticks:{beginAtZero:!0}}]},plugins:{datalabels:{display:t.setup.showLabel.enabled,formatter:u}}}}),c=!1}function u(e,s){if(t.setup.showLabel.enabled){if("%"===t.setup.showLabel.type)return Math.round(100*e)+"%";if("H"===t.setup.showLabel.type){var a=Math.trunc(e),n=Math.ceil(10*(e-a));return a=n>=60?a+1:a,n*=6,n=n>=60?0:n,n=n<10?"0"+n:n,(a=a<10?"0"+a:a)+":"+n}return e}}var r,c=!0;t.setup?(t.setup.type||(t.setup.type="bar"),!0!==t.setup.stackX&&(t.setup.stackX=!1),!0!==t.setup.stackY&&(t.setup.stackY=!1),t.setup.showLabel||(t.setup.showLabel={},t.setup.showLabel.enabled=!1)):(t.setup={},t.setup.type="bar",t.setup.showLabel={},t.setup.showLabel.enabled=!1),e(n,200),t.$watch("dataset",function(){c||n()})}}}angular.module("softchart.directive",[]).directive("softchart",t),t.$injector=["$filter","$timeout"]}(),angular.module("softchart.directive").run(["$templateCache",function(t){t.put("softchart.html",'\n<div class="softchart">\n\n    <canvas ng-attr-id="{{::id}}"></canvas>\n\n</div>\n')}]);