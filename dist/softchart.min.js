!function(){"use strict";function t(t,e){return{restrict:"E",replace:!0,scope:{id:"=",setup:"=",dataset:"=",label:"="},templateUrl:"softchart.html",link:function(t,a,s){function l(){p||c.destroy();var e=document.getElementById(t.id).getContext("2d");c=new Chart(e,{type:t.setup.type,data:{labels:t.label,datasets:t.dataset},options:{onClick:n,scales:{responsive:!0,xAxes:[{display:t.setup.axes.x,stacked:t.setup.stackX,ticks:{autoSkip:!1}}],yAxes:[{display:t.setup.axes.y,stacked:t.setup.stackY,ticks:{max:t.setup.maxY?t.setup.maxY:void 0,beginAtZero:!0,callback:function(t,e,a){return u(t)}}}]},plugins:{datalabels:{display:t.setup.showLabel.enabled,formatter:u,color:"black",anchor:"center"}},tooltips:{callbacks:{label:function(e,a){return"pie"==t.setup.type?a.datasets[e.datasetIndex].label+": "+u(a.datasets[0].data[e.index]):a.datasets[e.datasetIndex].label+": "+u(e.yLabel)}}}}}),p=!1}function n(e,a){t.setup.callback&&a.length>0&&t.setup.callback({index:a[0]._index,label:a[0]._model.label,labelIndex:t.label[a[0]._index]})}function u(e,a){if("%"===t.setup.showLabel.type)return Math.round(e)+"%";if("H"===t.setup.showLabel.type){if(e<=0)return"";var s=Math.floor(e),l=Math.round(60*e%60,-1);return l>=60&&(l=0,s++),s=s<10?"0"+s:s,l=l<10?"0"+l:l,s+":"+l}return e}var c,p=!0;t.setup?(t.setup.type||(t.setup.type="bar"),!0!==t.setup.stackX&&(t.setup.stackX=!1),!0!==t.setup.stackY&&(t.setup.stackY=!1),t.setup.showLabel||(t.setup.showLabel={},t.setup.showLabel.enabled=!1),t.setup.axes||(t.setup.axes={x:!0,y:!0})):(t.setup={},t.setup.type="bar",t.setup.showLabel={},t.setup.showLabel.enabled=!1,t.setup.axes={x:!0,y:!0}),e(l,200),t.$watch("dataset",function(){p||l()})}}}angular.module("softchart.directive",[]).directive("softchart",t),t.$injector=["$filter","$timeout"]}(),angular.module("softchart.directive").run(["$templateCache",function(t){t.put("softchart.html",'\n<div class="softchart">\n\n    <canvas ng-attr-id="{{::id}}"></canvas>\n\n</div>\n')}]);